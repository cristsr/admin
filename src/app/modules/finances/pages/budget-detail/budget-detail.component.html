<div class="p-4 flex flex-col h-full overflow-y-auto gap-4">
  <div class="flex flex-col items-center gap-4 rounded-xl shadow p-4 bg-white p-6">
    <!--Header-->
    <div class="flex flex-col gap-4 text-center">
      <div class="flex items-center justify-center h-20 w-20 rounded-full shadow bg-{{budget.category.color}}">
        <div class="text-4xl w-10 h-10 text-center">
          <mat-icon inline>{{budget.category.icon}}</mat-icon>
        </div>
      </div>

      <h2 class="!mb-0 !leading-none">{{budget.name | titlecase}}</h2>
    </div>

    <div class="flex flex-col w-full">
      <div class="flex justify-between items-center">
        <div class="flex flex-col">
          <div class="text-sm font-medium">Gastado</div>
          <div class="text-sm" [class.text-red-500]="!!budget.spent">{{budget.spent | currency}}</div>
        </div>
        <div class="flex flex-col items-end ">
          <div class="text-sm font-medium">Quedan</div>
          <div class="text-sm text-green-500">{{budget.amount - budget.spent | currency:'$':'code'}}</div>
        </div>
      </div>
      <app-progress class="mt-2" [progress]="'90'" color="bg-{{budget.category.color}}"></app-progress>
    </div>

    <div class="flex flex-col w-full divide-y">
      <div class="flex justify-between items-center pb-3">
        <div class="font-medium">Presupuesto</div>
        <div>{{budget.amount | currency}}</div>
      </div>
      <div class="flex justify-between items-center py-3">
        <div class="font-medium">Categor√≠a</div>
        <div>{{budget.category.name}}</div>
      </div>
      <div class="flex justify-between items-center pt-3">
        <div class="font-medium">Periodo</div>
        <div>{{budget.startDate | date:'yy-MM-dd'}} - {{budget.endDate | date:'yy-MM-dd'}}</div>
      </div>
    </div>
  </div>

  <div class="flex flex-col items-center gap-4 rounded-xl shadow p-4 bg-white p-6">
    <div class="flex flex-col w-full" >
      <div class="flex justify-between">
        <div class="text-lg font-medium">Movimientos</div>
        <!--<div class="ml-2 -mt-2 -mr-3">
          <button mat-icon-button aria-label="Example icon-button with a menu">
            <mat-icon>filter_list</mat-icon>
          </button>
          </div>-->
      </div>

      <div class="flex flex-col gap-2 pt-2" *ngIf="movements.length; else noMovements">
        <app-movement-item
          *ngFor="let movement of movements; trackBy: trackByFn"
          (click)="showMovementDetail(movement)"
          [color]="movement.category?.color"
          [icon]="movement.category?.icon"
          [description]="movement.description"
          [category]="movement.category?.name"
          [amount]="movement.amount"
          [type]="movement.type">
        </app-movement-item>
      </div>

      <ng-template #noMovements>
        <div class="pt-4 text-center font-medium">No se encontraron movimientos</div>
      </ng-template>
    </div>

  </div>
</div>
