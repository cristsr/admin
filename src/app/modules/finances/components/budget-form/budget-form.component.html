<div class="flex flex-col p-4 gap-2">
  <div class="flex items-center justify-between text-stone-600 h-[40px]">
    <div class="flex items-center gap-2">
      <mat-icon class="material-icons-outlined"
        >account_balance_wallet</mat-icon
      >
      <div class="text-xl font-medium">{{ tittle[action] }}</div>
    </div>
  </div>

  <form class="flex flex-col w-full" [formGroup]="form" (submit)="onSubmit()">
    <mat-form-field [appearance]="appearance" floatLabel="auto">
      <mat-label>Categoría</mat-label>
      <mat-icon matPrefix color="primary" class="mr-2">category</mat-icon>
      <mat-select formControlName="category" [compareWith]="compare">
        <mat-select-trigger>
          {{
            form.get('category').value?.name ?? 'Seleccione una categoría'
              | titlecase
          }}
        </mat-select-trigger>
        <mat-option *ngFor="let item of categories" [value]="item">
          <mat-icon matPrefix class="text-{{ item.color }}">{{
            item.icon
          }}</mat-icon>
          {{ item.name | titlecase }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field [appearance]="appearance" floatLabel="auto">
      <mat-icon matPrefix color="primary" class="mr-2">
        drive_file_rename_outline
      </mat-icon>
      <mat-label>Nombre</mat-label>
      <input matInput formControlName="name" autocomplete="off" />
    </mat-form-field>

    <mat-form-field [appearance]="appearance" floatLabel="auto">
      <mat-icon matPrefix color="primary" class="mr-2">attach_money</mat-icon>
      <mat-label>Total</mat-label>
      <input
        matInput
        type="number"
        formControlName="amount"
        autocomplete="off"
      />
    </mat-form-field>

    <div class="flex py-4">
      <mat-slide-toggle color="primary" formControlName="repeat">
        Repetir
      </mat-slide-toggle>
    </div>

    <div class="flex gap-8 pt-3">
      <button
        mat-stroked-button
        color="accent"
        type="button"
        class="w-full"
        (click)="closeDialog()"
      >
        <mat-icon matPrefix class="mr-2 material-icons-outlined">
          close
        </mat-icon>
        <span>Cancelar</span>
      </button>

      <button mat-flat-button color="primary" class="w-full" mat-ripple>
        <mat-icon matPrefix class="mr-2"> save </mat-icon>
        <span>Guardar</span>
      </button>
    </div>
  </form>
</div>
